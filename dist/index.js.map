{"version":3,"file":"index.js","sources":["../src/index.tsx"],"sourcesContent":["// /** @jsxImportSource @emotion/react */\r\nimport { Chip, FormControl, Input } from \"@mui/material\";\r\nimport React, { useEffect, useState } from \"react\";\r\n// import { css } from \"@emotion/react\";\r\n\r\nexport interface IInputInterface {\r\n  value: string | number;\r\n  inputRef?: React.Ref<any>;\r\n  onChange?: React.ChangeEventHandler<HTMLTextAreaElement | HTMLInputElement>;\r\n  onKeyDown: React.KeyboardEventHandler<HTMLTextAreaElement | HTMLInputElement>;\r\n  onBlur?: React.FocusEventHandler<HTMLTextAreaElement | HTMLInputElement>;\r\n  onFocus?: React.FocusEventHandler<HTMLTextAreaElement | HTMLInputElement>;\r\n}\r\n\r\nexport interface IChipInterface {\r\n  size: string;\r\n  key?: React.Key | null;\r\n  onDelete: (event: any) => void;\r\n  label: React.ReactNode;\r\n}\r\n\r\ninterface ITagInterface {\r\n  tags: string[];\r\n  setTags: (items: string[]) => void;\r\n  initialValue?: string;\r\n  onBlur?: React.FocusEventHandler<HTMLTextAreaElement | HTMLInputElement>;\r\n  onFocus?: React.FocusEventHandler<HTMLTextAreaElement | HTMLInputElement>;\r\n  innerRef?: React.Ref<any> | undefined;\r\n  inputProps?: Record<string, any>;\r\n  chipProps?: Record<string, any>;\r\n  allowBackspace?: Boolean;\r\n  allowDuplicate?: Boolean;\r\n}\r\n\r\nconst TagInput: React.FC<ITagInterface> = (\r\n  props: ITagInterface\r\n): JSX.Element => {\r\n  const {\r\n    tags,\r\n    setTags,\r\n    initialValue = \"\",\r\n    onBlur,\r\n    onFocus,\r\n    innerRef = null,\r\n    inputProps = {},\r\n    chipProps = {},\r\n    allowBackspace = false,\r\n    allowDuplicate = false,\r\n  } = props;\r\n  const [userTags, setUserTags] = useState(tags as string[]);\r\n  const [inputValue, setInputValue] = useState(initialValue);\r\n\r\n  useEffect(() => {\r\n    setUserTags(tags);\r\n  }, [tags]);\r\n\r\n  const handleDelete = (index: number) => {\r\n    const newArray = [...userTags];\r\n    newArray.splice(index, 1);\r\n\r\n    setUserTags(newArray);\r\n    setTags(newArray);\r\n  };\r\n\r\n  const handleChange = (\r\n    e: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>\r\n  ) => {\r\n    const { value } = e.target;\r\n    setInputValue(value);\r\n  };\r\n\r\n  const handleKeyDown = (e: any) => {\r\n    const { value } = e.target;\r\n\r\n    // If the enter key is clicked on\r\n    if (e.key === \"Enter\" && value) {\r\n      const duplicate = userTags.indexOf(value.trim());\r\n\r\n      if (!allowDuplicate && duplicate !== -1) {\r\n        setInputValue(\"\");\r\n        return;\r\n      }\r\n\r\n      if (!value.replace(/\\s/g, \"\").length) return;\r\n\r\n      e.persist();\r\n      const newList = [...userTags];\r\n      newList.push(value.trim());\r\n      setUserTags(newList);\r\n      setTags(newList);\r\n      setInputValue(\"\");\r\n    }\r\n\r\n    // If the backspace key is clicked on\r\n    if (\r\n      !allowBackspace &&\r\n      userTags.length &&\r\n      !value.length &&\r\n      e.key === \"Backspace\"\r\n    ) {\r\n      let index = userTags.length - 1;\r\n      handleDelete(index);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <FormControl\r\n        style={{\r\n          gap: \"10px\",\r\n          width: \"100%\",\r\n          display: \"flex\",\r\n          flexWrap: \"wrap\",\r\n          flexDirection: \"column\",\r\n          border: \"2px solid lightgray\",\r\n          padding: \"4px\",\r\n          borderRadius: \"4px\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            gap: \"6px\",\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            flexWrap: \"wrap\",\r\n          }}\r\n        >\r\n          {userTags.map((item, index: number) => (\r\n            <Chip\r\n              key={index}\r\n              size=\"small\"\r\n              onDelete={() => handleDelete(index)}\r\n              label={item}\r\n              {...chipProps}\r\n            />\r\n          ))}\r\n        </div>\r\n        <Input\r\n          value={inputValue}\r\n          onChange={handleChange}\r\n          onKeyDown={handleKeyDown}\r\n          onBlur={onBlur}\r\n          onFocus={onFocus}\r\n          inputRef={innerRef}\r\n          {...inputProps}\r\n        />\r\n      </FormControl>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TagInput;\r\n"],"names":["useState","useEffect","FormControl","Chip","Input"],"mappings":"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"}